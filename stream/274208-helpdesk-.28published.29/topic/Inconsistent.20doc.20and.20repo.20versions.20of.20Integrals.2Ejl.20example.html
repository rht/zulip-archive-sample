<html>
<head><meta charset="utf-8"><title>Inconsistent doc and repo versions of Integrals.jl example · helpdesk (published) · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://rht.github.io/zulip-archive-sample/stream/274208-helpdesk-.28published.29/index.html">helpdesk (published)</a></h2>
<h3>Topic: <a href="https://rht.github.io/zulip-archive-sample/stream/274208-helpdesk-.28published.29/topic/Inconsistent.20doc.20and.20repo.20versions.20of.20Integrals.2Ejl.20example.html">Inconsistent doc and repo versions of Integrals.jl example</a></h3>

<hr>

<base href="https://julialang.zulipchat.com/">

<head><link href="https://rht.github.io/zulip-archive-sample/style.css" rel="stylesheet"></head>

<a name="307344775"></a>
<h4><a href="https://julialang.zulipchat.com/#narrow/stream/274208-helpdesk%20%28published%29/topic/Inconsistent%20doc%20and%20repo%20versions%20of%20Integrals.jl%20example/near/307344775" class="zl"><img src="https://rht.github.io/zulip-archive-sample/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anubhab Haldar <a href="https://rht.github.io/zulip-archive-sample/stream/274208-helpdesk-.28published.29/topic/Inconsistent.20doc.20and.20repo.20versions.20of.20Integrals.2Ejl.20example.html#307344775">(Nov 01 2022 at 16:00)</a>:</h4>
<p>The documentation (<a href="https://docs.sciml.ai/Integrals/stable/tutorials/numerical_integrals/">https://docs.sciml.ai/Integrals/stable/tutorials/numerical_integrals/</a>) has the following code:</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Integrals</span><span class="p">,</span><span class="w"> </span><span class="n">Cubature</span><span class="p">,</span><span class="w"> </span><span class="n">Base</span><span class="o">.</span><span class="n">Threads</span><span class="w"></span>
<span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">p</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="n">Threads</span><span class="o">.</span><span class="nd">@threads</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="n">size</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">sin</span><span class="o">.</span><span class="p">(</span><span class="nd">@view</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="o">:</span><span class="p">,</span><span class="n">i</span><span class="p">])))</span><span class="w"></span>
<span class="w">  </span><span class="k">end</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>
<span class="n">prob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IntegralProblem</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">3</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">batch</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="n">sol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solve</span><span class="p">(</span><span class="n">prob</span><span class="p">,</span><span class="n">CubatureJLh</span><span class="p">(),</span><span class="n">reltol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">,</span><span class="n">abstol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>but the repo (<a href="https://github.com/SciML/Integrals.jl/blob/master/docs/src/tutorials/numerical_integrals.md">https://github.com/SciML/Integrals.jl/blob/master/docs/src/tutorials/numerical_integrals.md</a>) has:</p>
<div class="codehilite" data-code-language="Julia"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Integrals</span><span class="p">,</span><span class="w"> </span><span class="n">IntegralsCubature</span><span class="p">,</span><span class="w"> </span><span class="n">Base</span><span class="o">.</span><span class="n">Threads</span><span class="w"></span>
<span class="k">function</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">p</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="n">Threads</span><span class="o">.</span><span class="nd">@threads</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="n">size</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="n">sin</span><span class="o">.</span><span class="p">(</span><span class="nd">@view</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="o">:</span><span class="p">,</span><span class="n">i</span><span class="p">])))</span><span class="w"></span>
<span class="w">  </span><span class="k">end</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>
<span class="n">prob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IntegralProblem</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">3</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">batch</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="w"></span>
<span class="n">sol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solve</span><span class="p">(</span><span class="n">prob</span><span class="p">,</span><span class="n">CubatureJLh</span><span class="p">(),</span><span class="n">reltol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">,</span><span class="n">abstol</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span><span class="w"></span>
<span class="n">sol</span><span class="o">.</span><span class="n">u</span><span class="w"></span>
</code></pre></div>
<p>This isn't really an ask for help since it's solved, but it might help others, and I don't really know how to solve the inconsistent .md part of the problem.</p>



<hr><p>Last updated: Nov 01 2025 at 04:40 UTC</p>
</html>